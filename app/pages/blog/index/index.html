<ion-header>
    <ion-navbar>
        <button menuToggle>
            <ion-icon name="menu"></ion-icon>
        </button>
        <ion-title>
            {{"app.blog.title" | translate}}
        </ion-title>
    </ion-navbar>
</ion-header>
<ion-content class="blog-index" >
    <div class="loading" [hidden]="isLoadCompleted">
        <ion-spinner name="dots"></ion-spinner>
    </div>
    <ion-refresher (ionRefresh)="doRefresh($event)">
        <ion-refresher-content refreshingSpinner="circles"> </ion-refresher-content>
    </ion-refresher>
    <ion-list>
        <button ion-item detail-none *ngFor="let community of communityListForTop" (click)="openDetail(community)">
            <ion-avatar item-left>
                <img src="{{community.createUserAvatar}}" />
            </ion-avatar>
            <p>{{community.createUserName}}</p>
            <h2 class="title">{{community.title}}</h2>
            <div item-right class="status">
                <ion-badge class="new" *ngIf="community.readStatus=='NOT_READ'">{{"app.blog.newBlog" | translate}}</ion-badge>
                <ion-badge class="new-reply" *ngIf="community.readStatus!='NOT_READ' && community.newReplyFlag=='TRUE'">{{"app.blog.newReturn" | translate}}</ion-badge>
                <p>{{community.publishStartDate}}</p>
            </div>
        </button>
    </ion-list>
    <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
        <ion-infinite-scroll-content loadingSpinner="bubbles"></ion-infinite-scroll-content>
    </ion-infinite-scroll>
</ion-content>
<button fab fab-right fab-bottom secondary [hidden]="!isLoadCompleted" (click)="addComment()">
    <ion-icon name="add"></ion-icon>
</button>
<button class="scroll-to-top" fab fab-right fab-bottom [hidden]="!isScrollToTopButtonVisible" (click)="scrollToIndexPageTop()">
    <ion-icon name="arrow-up"></ion-icon>
</button>